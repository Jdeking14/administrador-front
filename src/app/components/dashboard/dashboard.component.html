<section class="d-flex justify-content-center text-center">

<div class="card col-8">
  <div class="card-header">
    Control Dashboard
  </div>
  <div class="card-body d-flex flex-column justify-content-between align-items-center">
    <div class="d-flex w-100 gap-3">
      <div class="border border-primary rounded h-100 w-75">
        <p><b>Members</b></p>
        <hr class="my-1 text-primary">
        <div class="d-flex justify-content-center">
          <p class="text-primary fs-1 w-100 m-2">{{members.length}}</p>
        </div>
      </div>
      <div class="border border-success rounded h-100 w-75">
        <p><b>Total Amount</b></p>
        <hr class="my-1 text-success">
        <div class="d-flex justify-content-center">
          <p class="text-success fs-1 w-100 m-2">{{totalAmount | currency: 'EUR'}}</p>
        </div>
      </div>
    </div>
    @if(user.isAdmin){
      <div class="d-flex w-100 justify-content-around p-2 gap-3">
        <button class="w-50 btn btn-primary" (click)="open(content)">Edit members</button>
        <button class="w-50 btn btn-danger">Delete all payments</button>
      </div>
    }
    <ng-template #content let-modal>
      <app-edit-members-group [members]="members" [idGroup]="idGroup"></app-edit-members-group>
    </ng-template>
    <!-- <div class="d-flex justify-content-between align-items-center">
      @for(m of members; track m.user_id){
        <div class="border border-primary rounded mx-2">
          <p class="text-capitalize">{{m.firstName}} {{m.lastName}}</p>
          <hr class="my-1">
          <div class="d-flex justify-content-between align-items-center">
            <input #percent="ngModel" class="form-control formato border-secondary-subtle m-2" type="number" min="0" max="100" [placeholder]="1/members.length | percent" [disabled]="!user.isAdmin" ngModel>
            <span class="formato align-content-center border border-secondary-subtle rounded m-2">{{totalAmount*(percent.value/100) | currency: 'EUR'}}</span>
          </div>
        </div>
      }
    </div> -->
  </div>
</div>

</section>